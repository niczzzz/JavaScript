<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Sign up</title>
</head>
<body>
	<form onsubmit="submitForm()" method="POST" action="index.html">
		<table>
		<tr>
			<td><label>Your email:</label><br>
				<input type="text" name="email" required></td>

			<td><label>Your login:</label><br>
				<input type="text" name="login" required></td>
		</tr>
		<tr>
			<td>
				<label>Your password:</label><br>
				<input type="password" id="pwd" name="pwd" required>
			</td>
			<td>
				<label>Repeat password:</label><br>
				<input type="password" id="pwd2" name="pwd2" required>
			</td>
		</tr>
		<tr>
			<td>
				<br><input type="submit" value="Sign Up">
			</td>
			<td>
			<input type="checkbox" onclick="myFunction()">Show Password
			</td>
		</tr>		
		</table>	
	</form>

<script>
	function myFunction() {
	    var x = document.getElementById("pwd");
	    if (x.type === "password") {
	        x.type = "text";
	    } else {
	        x.type = "password";
	    }
	    var y = document.getElementById("pwd2");
	    if (y.type === "password") {
	        y.type = "text";
	    } else {
	        y.type = "password";
	    }


}	



	function submitForm() {
		if(document.querySelector('input[name=pwd]').value==document.querySelector('input[name=pwd2]').value)
		{
			let url = location.href;
			let n = url.lastIndexOf('/');
			let result = url.slice(0, n);
			location.href = result + "/index.html";

			let data = document.querySelector('input[name=email]').value;
			localStorage.setItem("email", data);

		}
		else
		{
			alert('Пароли должны совпадать!');
			event.preventDefault();
		}

	}
</script>

</body>
</html>